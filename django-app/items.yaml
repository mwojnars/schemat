- id: [0, 0]
  name: Category
  info: Category of items that represent categories
  class_name: hyperweb.core.Category
  endpoints: {view: '

      context $item

      from base import %page_category

      page_category item

      '}
  fields:
    name: {info: human-readable title of the category, '@': hyperweb.types.STRING}
    info: {'@': hyperweb.types.TEXT}
    startup_site: {'@': hyperweb.types.GENERIC}
    prototype: {info: 'Base category from which this one inherits. Multiple prototypes
        are allowed, the first one overrides settings of subsequent ones.', '@': hyperweb.types.ITEM}
    class_name: {default: hyperweb.core.Item, info: Full (dotted) path of a python
        class. Or the class name that should be imported from `class_code` after its
        execution., '@': hyperweb.types.STRING}
    class_code: {'@': hyperweb.types.TEXT}
    endpoints:
      default: {view: '

          context $item

          from base import %page_item

          page_item $item

          # dedent : page_item $item

          '}
      values: {'@': hyperweb.types.CODE}
      '@': hyperweb.types.CATALOG
    handlers:
      values: {'@': hyperweb.types.CODE}
      '@': hyperweb.types.CATALOG
    fields:
      values: {'@': hyperweb.types.SCHEMA}
      '@': hyperweb.types.CATALOG
  startup_site: [10, 1]
- id: [0, 1]
  name: File
  info: File with a text content. Accessible through the web filesystem.
  class_name: hyperweb.core.File
  fields:
    format: {'@': hyperweb.types.STRING}
    content: {'@': hyperweb.types.CODE}
- id: [0, 2]
  name: FileLocal
  info: File located on a local disk, identified by its local file path.
  prototype: [0, 1]
  class_name: hyperweb.core.FileLocal
  fields:
    path: {'@': hyperweb.types.STRING}
- id: [0, 3]
  name: Folder
  info: A directory of files, each file has a unique name (path). May contain nested
    directories.
  class_name: hyperweb.core.Folder
  fields:
    files:
      keys: {'@': hyperweb.types.FILENAME}
      values: {'@': hyperweb.types.ITEM}
      '@': hyperweb.types.CATALOG
- id: [0, 4]
  name: Application
  info: Category of application records. An application groups all spaces & categories
    available in the system and provides system-level configuration.
  class_name: hyperweb.core.Application
  fields:
    name: {'@': hyperweb.types.STRING}
- id: [0, 5]
  name: AppRoot
  info: A set of sub-applications, each bound to a different URL prefix.
  class_name: hyperweb.core.AppRoot
  prototype: [0, 4]
  fields:
    name: {'@': hyperweb.types.STRING}
    apps:
      values: {'@': hyperweb.types.ITEM}
      '@': hyperweb.types.CATALOG
- id: [0, 6]
  name: AppAdmin
  info: Application that serves items on simple URLs of the form /CID:IID, for admin
    purposes.
  class_name: hyperweb.core.AppAdmin
  fields:
    name: {'@': hyperweb.types.STRING}
- id: [0, 7]
  name: AppAjax
  info: Internal application to serve AJAX requests, mainly for pulling additional
    items by client UI.
  class_name: hyperweb.core.AppAjax
  fields:
    name: {'@': hyperweb.types.STRING}
- id: [0, 8]
  name: AppFiles
  class_name: hyperweb.core.AppFiles
  fields:
    name: {'@': hyperweb.types.STRING}
    root_folder:
      category:
        '=': [0, 3]
        '@': (item)
      '@': hyperweb.types.ITEM
- id: [0, 9]
  name: AppSpaces
  info: 'Application for accessing public data through verbose paths of the form:
    .../SPACE:IID, where SPACE is a text identifier assigned to a category in `spaces`
    property.'
  class_name: hyperweb.core.AppSpaces
  fields:
    name: {'@': hyperweb.types.STRING}
    spaces:
      values:
        category:
          '=': [0, 0]
          '@': (item)
        '@': hyperweb.types.ITEM
      '@': hyperweb.types.CATALOG
- id: [0, 10]
  name: Site
  info: Category of site records. A site contains information about applications,
    servers, startup
  class_name: hyperweb.core.Site
  fields:
    name: {'@': hyperweb.types.STRING}
    base_url: {'@': hyperweb.types.STRING}
    filesystem:
      category:
        '=': [0, 3]
        '@': (item)
      '@': hyperweb.types.ITEM
    application: {'@': hyperweb.types.ITEM}
- id: [0, 11]
  name: Varia
  info: Category of items that do not belong to any specific category
  class_name: hyperweb.core.Item
  fields:
    name: {'@': hyperweb.types.STRING}
    title: {'@': hyperweb.types.STRING}
- id: [1, 1]
  format: hypertag
  content: "\n    %assets_external\n        # jQuery 3.6.0\n        script src=\"\
    https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js\" integrity=\"sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=\"\
    \ crossorigin=\"anonymous\"\n        # Bootstrap 5.0.2\n        link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\
    \ rel=\"stylesheet\" integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\
    \ crossorigin=\"anonymous\"\n        script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js\"\
    \ integrity=\"sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM\"\
    \ crossorigin=\"anonymous\"\n        # # Lodash 4.17.21 (https://lodash.com/)\n\
    \        # script src=\"https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js\"\
    \ integrity=\"sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k=\" crossorigin=\"\
    anonymous\"\n\n        # React\n        # Uwaga: podczas wdrażania aplikacji do\
    \ środowiska produkcyjnego, zamień \"development.js\" na \"production.min.js\"\
    \n        script src=\"https://unpkg.com/react@17/umd/react.development.js\" crossorigin=True\n\
    \        script src=\"https://unpkg.com/react-dom@17/umd/react-dom.development.js\"\
    \ crossorigin=True\n        \n        # # Lit\n        # script type=\"module\"\
    \ !\n        #     import {LitElement, html, css} from 'https://unpkg.com/lit-element/lit-element.js?module';\n\
    \        #     window.LitElement = LitElement;\n        #\n        #     class\
    \ MyElement extends LitElement {\n        #         static get properties() {\
    \ return { mood: {type: String} } }\n        #         static get styles() { return\
    \ css`.mood { color: green; }`; }\n        #         render() { return html`Web\
    \ Components are <span class=\"mood\">${this.mood}</span>!`; }\n        #    \
    \ }\n        #     customElements.define('my-element', MyElement);\n\n       \
    \ # ACE (code editor)\n        # keyboard shortcuts: https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts\n\
    \        # existing highlighters: https://github.com/ajaxorg/ace/tree/master/lib/ace/mode\n\
    \        # default commands and shortcuts: https://github.com/ajaxorg/ace/tree/master/lib/ace/commands\
    \ (-> editor.commands.addCommand() ..removeCommand())\n        script src=\"https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js\"\
    \ integrity=\"sha512-GZ1RIgZaSc8rnco/8CXfRdCpDxRCphenIiZ2ztLy3XQfCbQUSCuk8IudvNHxkRA3oUg6q0qejgN/qqyG1duv5Q==\"\
    \ crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"\n        \n       \
    \ # # CodeMirror (code editor)\n        # script src=\"https://cdn.jsdelivr.net/npm/codemirror@5.62.3/lib/codemirror.min.js\"\
    \n\n    %assets_internal\n        # favicon: checkerboard - https://www.favicon.cc/?action=icon&file_id=967487\n\
    \        link href=\"data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAmYh3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEQEBAQEBAQEAEBAQEBAQEBEBAQEBAQEBABAQEBAQEBARAQEBAQEBAQAQEBAQEBAQEQEBAQEBAQEAEBAQEBAQEBEBAQEBAQEBABAQEBAQEBARAQEBAQEBAQAQEBAQEBAQEQEBAQEBAQEAEBAQEBAQEBEBAQEBAQEBCqqgAAVVUAAKqqAABVVQAAqqoAAFVVAACqqgAAVVUAAKqqAABVVQAAqqoAAFVVAACqqgAAVVUAAKqqAABVVQAA\"\
    \ rel=\"icon\" type=\"image/x-icon\"\n        # # favicon: thequiz (check mark)\
    \ - https://www.favicon.cc/?action=icon&file_id=967133\n        # link href=\"\
    data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLiXvci7e73IuHQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLizvci7k73Iu/+9yLsjvci4CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLibvci7q73Iu/+9yLv/vci7+73IuZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLjDvci7p73Iu/+9yLv/vci7j73Iu/+9yLvLvci4VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLibvci7p73Iu/+9yLv/vci6u73IuBu9yLunvci7/73IusgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLi3vci7q73Iu/u9yLv7vci6i73IuBAAAAADvci5n73Iu/+9yLv/vci5TAAAAAAAAAAAAAAAAAAAAAO9yLijvci6773Iupe9yLnLvci4173IuAwAAAAAAAAAA73IuA+9yLt/vci7/73Iu7u9yLgQAAAAAAAAAAAAAAAA0GQoBNBkKAjQZCgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADvci5a73Iu/+9yLv7vci4sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLtjvci7/73IuWgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADvci5M73Iu/+9yLooAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA73IuAe9yLsHvci7EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADvci4273Iu8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLr3vci4kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADvci4v73IuUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO9yLiMAAAAA//8AAP9/AAD+PwAA/D8AAPgfAADwjwAA4c8AAM/HAAD/5wAA/+cAAP/zAAD/8wAA//sAAP/7AAD//wAA//8AAA==\"\
    \ rel=\"icon\" type=\"image/x-icon\"\n\n        link href='/files/style.css' rel=\"\
    stylesheet\"\n        #style / $item.registry.read('base.css')\n        \n   \
    \ %assets\n        assets_external\n        assets_internal\n    \n    # %catalog_row\
    \ key value schema\n    #     # a row containing an atomic value of a data field\
    \ (not a subcatalog)\n    #     th .ct-field | $key\n    #     # td .ct-flags\
    \ | *\n    #     td .ct-value / $schema.display(value)\n    #\n    # %catalog_2\
    \ data schema start_color=0\n    #     $c = start_color\n    #     div .wrap-offset\
    \ : table .catalog-2\n    #         for field, value in data.items()\n    #  \
    \           tr class=\"ct-color{c}\"\n    #                 catalog_row $field\
    \ $value $schema\n    #             # $c = 1 - c\n    #\n    # %catalog_1 item\n\
    \    #     $c = 0          # alternating color of rows: 0 or 1\n    #     table\
    \ .catalog-1\n    #         for field, value in item.get_entries()\n    #    \
    \         $schema = item.category.get_schema(field)\n    #             tr class=\"\
    ct-color{c}\"\n    #                 if schema.is_catalog\n    #             \
    \        td .ct-nested colspan=2\n    #                         div .ct-field\
    \ | {field}\n    #                         catalog_2 $value $schema.values $c\n\
    \    #                 else\n    #                     catalog_row $field $value\
    \ $schema\n    #             $c = 1 - c\n    #\n    # %properties item\n    #\
    \     from hyperweb.serialize import $JSON, $json\n    #\n    #     custom \"\
    hw-item-page-\"\n    #         data #category | $item.category.dump_data(use_schema\
    \ = False)\n    #         data #item     | $item.dump_data(use_schema = False)\n\
    \    #         < catalog_1 $item\n    #         div style=\"text-align:right;\
    \ padding-top:20px\"\n    #             button #revert .btn .btn-secondary disabled=False\
    \ | Revert\n    #             button #submit .btn .btn-primary   disabled=False\
    \ | Submit\n\n    %data @dump id=None type=\"json\"\n        p id=$id style=\"\
    display:none\" @ dump\n    \n    %page @body\n        doctype\n        ...html\
    \ @body\n    \n    %page_item @extra item\n        page\n            head\n  \
    \              title | $item['name']? $item.ciid(False)\n                assets\n\
    \    \n                # script type=\"module\" src=\"/files/registry.js\"\n \
    \               script type=\"module\" !\n                    import { boot }\
    \ from \"/files/registry.js\"\n                    import { JSONx } from \"/files/serialize.js\"\
    \n                    window.JSONx = JSONx\n                    boot()\n     \
    \   \n            # body .container : div .row\n            #   div .col-1\n \
    \           #   div .col-10\n            body\n                # h1\n        \
    \        #     $ciid = item.ciid()\n                #     try\n              \
    \  #         | $item['name']\n                #         span style=\"font-size:40%;\
    \ font-weight:normal\" / $ciid\n                #     else / $ciid\n         \
    \       #\n                # h2 | Properties\n                # properties $item\n\
    \                \n                # dump client configuration and preloaded items\
    \ to json and embed them in HTML\n                from hyperweb.serialize import\
    \ $JSON\n                data #data-items | $JSON.dump(item.response_items())\n\
    \                data #data-data  | $JSON.dump(item.response_data())\n       \
    \         \n                div #react-root\n                \n              \
    \  @extra\n            \n    %page_category category\n        page_item category\n\
    \            h2 | Items\n            table\n                for item in list(category.registry.scan_category(category))\n\
    \                    tr\n                        td / #{item.iid} &nbsp;\n   \
    \                     td\n                            $ iname = item['name']?\
    \ or item\n                            try\n                                a\
    \ href=$item.url() | $iname\n                            else\n              \
    \                  | $iname (no URL)\n    \n    "
- id: [3, 1]
  files:
    Site: [0, 10]
    File: [0, 1]
    Folder: [0, 3]
- id: [1, 2]
  content: This is a test file.
- id: [3, 2]
  files:
    test.txt: [1, 2]
- id: [3, 3]
  files:
    tmp1: [3, 2]
- id: [2, 1]
  path: /home/marcin/Documents/priv/catalog/src/schemat/client.js
- id: [2, 2]
  path: /home/marcin/Documents/priv/catalog/src/schemat/item.js
- id: [2, 3]
  path: /home/marcin/Documents/priv/catalog/src/schemat/registry.js
- id: [2, 4]
  path: /home/marcin/Documents/priv/catalog/src/schemat/serialize.js
- id: [2, 5]
  path: /home/marcin/Documents/priv/catalog/src/schemat/assets/server.js
- id: [2, 6]
  path: /home/marcin/Documents/priv/catalog/src/schemat/assets/style.css
- id: [2, 7]
  path: /home/marcin/Documents/priv/catalog/src/schemat/types.js
- id: [2, 8]
  path: /home/marcin/Documents/priv/catalog/src/schemat/utils.js
- id: [3, 4]
  files:
    system: [3, 1]
    tmp: [3, 3]
    base.hy: [1, 1]
    client.js: [2, 1]
    item.js: [2, 2]
    registry.js: [2, 3]
    serialize.js: [2, 4]
    server.js: [2, 5]
    style.css: [2, 6]
    types.js: [2, 7]
    utils.js: [2, 8]
- id: [6, 1]
  name: Admin
- id: [7, 1]
  name: AJAX
- id: [8, 1]
  name: Files
- id: [9, 1]
  name: Catalog
  spaces: {sys.category: 0, sys.item: 11, sys.site: 10, sys.dir: 3, sys.file: 2}
- id: [5, 1]
  name: Applications
  apps:
    admin: [6, 1]
    ajax: [7, 1]
    files: [8, 1]
    ? ''
    : [9, 1]
- id: [10, 1]
  name: catalog.wiki
  base_url: http://localhost:8001
  filesystem: 4
  application: [5, 1]
- id: [11, 1]
  title: Ala ma kota Sierściucha i psa Kłapoucha.
- id: [11, 2]
  title: ąłęÓŁŻŹŚ
  name: test_item
